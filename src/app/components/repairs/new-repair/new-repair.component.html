<div (click)="onCloseAddTask()" class="backdrop"></div>
<dialog open>
	<h2>Add machine</h2>
	<form [formGroup]="form" (ngSubmit)="onSubmit()">
		<p>
			<label for="brand">Brand</label>
			<input type="text" id="brand" name="brand" formControlName="brand" />
		</p>
		<p>
			<label for="year">Year</label>
			<input type="number" id="year" name="year" formControlName="year" />
		</p>
		<p>
			<label for="country">Country</label>
			<input
				type="text"
				id="country"
				name="country"
				formControlName="country"
			/>
		</p>

		<p>
			<label for="repair">Repair type</label>
			<select name="repair" id="repair" formControlName="repair">
				@for (type of repairTypes(); track type._id) {
				<option [value]="type._id">{{ type.name }}</option>
				}
			</select>
		</p>

		<p>
			<label for="notes">Notes</label>
			<textarea
				id="notes"
				rows="5"
				name="notes"
				formControlName="notes"
			></textarea>
		</p>

		<p>
			<label for="startDate">Start date</label>
			<input
				type="date"
				id="startDate"
				name="startDate"
				formControlName="startDate"
			/>
		</p>

		<p class="actions">
			<button (click)="onCloseAddTask()" type="button">Cancel</button>
			<button type="submit">Create</button>
		</p>
	</form>
</dialog>
